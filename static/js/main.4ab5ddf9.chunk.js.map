{"version":3,"sources":["components/Item/Item.module.scss","pages/home/Home.module.scss","components/FloorPlan/FloorPlan.module.scss","components/FloorPlan/blueprint.png","pages/workspace/Workspace.module.scss","store/app.store.ts","store/workspace.store.ts","components/Item/item.store.ts","store/reducer.ts","pages/home/Home.tsx","pages/home/index.ts","components/FloorPlan/floorplan.reducer.ts","components/Item/Item.tsx","components/Item/index.ts","components/Sidebar/Sidebar.tsx","components/Sidebar/index.ts","components/FloorPlan/FloorPlan.tsx","components/FloorPlan/index.ts","pages/workspace/Workspace.tsx","pages/workspace/index.ts","components/Layout/Layout.tsx","components/Layout/index.ts","pages/index.tsx","store/configure.ts","App.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","handleActions","createAction","data","from","to","state","payload","produce","draft","range","collections","collectionDict","keywords","ADD","add","workspace","update","remove","id","Math","random","toString","substr","workspaces","name","format","Date","sample","scale","createTime","toISOString","focus","index","findIndex","updateTime","filter","items","top","left","width","height","rotate","item","find","rootReducer","combineReducers","app","persistReducer","key","storage","console","log","Home","props","dispatch","useDispatch","useSelector","get","handleAddClick","useCallback","className","cx","styles","root","style","float","onClick","map","i","initialState","setScale","reducer","action","type","useAAA","useImmerReducer","Item","focusId","useMemo","cool","useRef","handleFocusClick","current","itemStyle","fontSize","transform","ref","useState","aa","setAa","dats","handleDragStart","aaa","clientX","clientY","handleDragEnd","deltaX","deltaY","setTimeout","handleRotateStart","handleRotateEnd","matched","target","match","useEffect","container","origin","draggable","onDrag","beforeDelta","beforeDist","right","bottom","delta","dist","onDragStart","onDragEnd","rotatable","throttleRotate","onRotateStart","onRotate","onRotateEnd","Sidebar","focused","handleClick","handleRemoveClick","handleCopyClick","handleValueChange","event","value","placement","closable","visible","mask","defaultValue","placeholder","onChange","FloorPlan","useFloorPlanReducer","handleSliderChange","val","min","max","src","bg","transformOrigin","JSON","stringify","Workspace","parse","undefined","handleDataChange","handleNameChange","Layout","children","pages","path","exact","component","REDIRECT_URI","routes","Component","render","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","err","enhancer","store","createStore","persistor","persistStore","configure","App","loading","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4ab5ddf9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Item_root__8ZGj6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Home_root__3GMAO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FloorPlan_root__3Mxaj\"};","module.exports = __webpack_public_path__ + \"static/media/blueprint.173beae2.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Workspace_root__2tRmB\"};","import { createAction, handleActions } from 'redux-actions';\nimport produce from 'immer';\n// import { dataToCollections, compareFactory } from '../helpers/util';\n\nconst initialState = {\n  data: [],\n  collections: [],\n  collectionDict: {},\n  keywords: [],\n  range: { from: '', to: '' },\n} as {\n  data: any[];\n  collections: any[];\n  collectionDict: any;\n  keywords: any[];\n  range: any;\n};\n\nconst SET_DATA = 'app/SET_DATA';\nconst SET_RANGE = 'app/SET_RANGE';\n\nexport const setData = createAction(SET_DATA, (data: any) => ({ data }));\nexport const setRange = createAction(SET_RANGE, (from: string, to: string) => ({\n  from,\n  to,\n}));\n\nexport default handleActions(\n  {\n    [SET_DATA]: (state, { payload }) =>\n      produce(state, (draft) => {\n        const { data } = payload;\n        draft.data = data;\n      }),\n    [SET_RANGE]: (state, { payload }) =>\n      produce(state, (draft) => {\n        const { from, to } = payload as any;\n        draft.range = { from, to };\n      }),\n  },\n  initialState,\n);\n","import { combineReducers } from 'redux';\nimport { createAction, handleActions } from 'redux-actions';\nimport produce, { finishDraft } from 'immer';\nimport { format } from 'date-fns';\n// import { dataToCollections, compareFactory } from '../helpers/util';\n\nexport type Item = {\n  id: string;\n  scale?: number;\n  data?: any;\n  name?: string;\n  top?: number;\n  left?: number;\n  width?: number;\n  height?: number;\n  rotate?: number;\n  createTime?: string;\n  updateTime?: string;\n};\n\nconst initialState = {\n  workspaces: [],\n\n  focus: null,\n  collections: [],\n  collectionDict: {},\n  keywords: [],\n  range: { from: '', to: '' },\n} as {\n  workspaces: Item[];\n  focus: string | null;\n  collections: any[];\n  collectionDict: any;\n  keywords: any[];\n  range: any;\n  workspace?: any;\n};\n\nconst ADD = 'workspace/ADD';\nconst UPDATE = 'workspace/UPDATE';\nconst REMOVE = 'workspace/REMOVE';\n\nexport const add = createAction(ADD, (workspace: any) => workspace);\nexport const update = createAction(UPDATE, (workspace: any) => workspace);\nexport const remove = createAction(REMOVE, (id: string) => ({ id }));\n\nexport default handleActions(\n  {\n    [ADD]: (state, { payload }) =>\n      produce(state, (draft) => {\n        // const { workspace } = payload;\n        const id = Math.random()\n          .toString(36)\n          .substr(-6);\n        const x = (draft.workspaces = [\n          ...draft.workspaces,\n          {\n            // top: ~~(Math.random() * 500),\n            // left: ~~(Math.random() * 500),\n            // width: 200,\n            // height: 100,\n            // rotate: 0,\n            // ...payload,\n\n            name: format(new Date(), 'yyyy.MM.dd. HH:mm'),\n            data: sample,\n            ...payload,\n            id,\n            scale: 50,\n            createTime: new Date().toISOString(),\n          },\n        ]);\n        draft.focus = id;\n      }),\n\n    [UPDATE]: (state, { payload }) =>\n      produce(state, (draft) => {\n        // const { workspace } = payload;\n        // @ts-ignore\n        const { id } = payload;\n        const index = draft.workspaces.findIndex(\n          (workspace: any) => workspace.id === id,\n        );\n\n        if (index !== -1) {\n          draft.workspaces[index] = {\n            ...draft.workspaces[index],\n            ...payload,\n            updateTime: new Date().toISOString(),\n          };\n        }\n      }),\n    [REMOVE]: (state, { payload }) =>\n      produce(state, (draft) => {\n        // @ts-ignore\n        const { id } = payload;\n        draft.workspaces = draft.workspaces.filter(\n          (workspace: any) => workspace.id !== id,\n        );\n        if (draft.focus === id) {\n          draft.focus = null;\n        }\n        // draft.focus = id;\n      }),\n  },\n  initialState,\n);\n\nconst sample = {\n  items: [\n    {\n      top: 1170.6007439683185,\n      left: 1467.4282986065064,\n      width: 210,\n      height: 120,\n      rotate: 90,\n      id: '69mvnt',\n      name: '침대1',\n    },\n    {\n      top: 1169.5481123893712,\n      left: 1347.268115540145,\n      width: 210,\n      height: 120,\n      rotate: 90,\n      id: 'dwltnj',\n      name: '침대2',\n    },\n    {\n      top: 1305.9096684534443,\n      left: 1109.1445457460945,\n      width: 120,\n      height: 60,\n      rotate: 270,\n      id: 'd6jum6',\n      name: '책상',\n    },\n    {\n      top: 1257.6349206349207,\n      left: 553.888888888889,\n      width: 210,\n      height: 160,\n      rotate: 0,\n      id: 'gfdi6o',\n      name: '퀸침대',\n    },\n    {\n      top: 1129.1461988304095,\n      left: 1251.7777777777778,\n      width: 95,\n      height: 52,\n      rotate: 0,\n      id: '50mids',\n      name: '서랍장',\n    },\n    {\n      top: 1367.2793355834972,\n      left: 321.15743728595635,\n      width: 154,\n      height: 42,\n      rotate: 90,\n      id: '2soy7j',\n      name: '행거',\n    },\n    {\n      top: 345.1988304093569,\n      left: 1149.4093567251462,\n      width: 200,\n      height: 91,\n      rotate: 0,\n      id: '1vufrc',\n      name: '소파',\n    },\n    {\n      top: 587.5672514619885,\n      left: 1078.6198830409355,\n      width: 180,\n      height: 47,\n      rotate: 0,\n      id: 'vumct3',\n      name: 'TV다이',\n    },\n    {\n      top: 1011.5146198830411,\n      left: 1143.3567251461989,\n      width: 290,\n      height: 92,\n      rotate: 0,\n      id: '776dxr',\n      name: '소파',\n    },\n    {\n      top: 669.6725146198833,\n      left: 1109.409356725146,\n      width: 270,\n      height: 47,\n      rotate: 0,\n      id: '7tigqj',\n      name: '책장?',\n    },\n    {\n      top: 663.3567251461991,\n      left: 1475.4619883040934,\n      width: 133,\n      height: 41,\n      rotate: 0,\n      id: 'sm0qgr',\n      name: '피아노',\n    },\n    {\n      top: 1260.4723082215346,\n      left: 960.503267973856,\n      width: 85,\n      height: 180,\n      rotate: 0,\n      id: 'v6dhzi',\n      name: '식탁',\n    },\n    {\n      top: 586.5146198830411,\n      left: 1261.7777777777776,\n      width: 96,\n      height: 47,\n      rotate: 0,\n      id: 'pb8bxl',\n      name: 'CD',\n    },\n    {\n      top: 1519.6879944960444,\n      left: 790.3071895424837,\n      width: 92,\n      height: 92,\n      rotate: 0,\n      id: '0886hr',\n      name: '냉장고',\n    },\n    {\n      top: 1627.923288613692,\n      left: 888.7385620915034,\n      width: 71,\n      height: 67,\n      rotate: 0,\n      id: 'acrk6a',\n      name: '김냉',\n    },\n    {\n      top: 1518.5115239078093,\n      left: 1126.3856209150326,\n      width: 70,\n      height: 70,\n      rotate: 0,\n      id: 'ghfizn',\n      name: '세탁기',\n    },\n    {\n      top: 1264.5520628562244,\n      left: 376.38471001322904,\n      width: 45,\n      height: 45,\n      rotate: 0,\n      id: 't7af7e',\n      name: '옷장',\n    },\n    {\n      top: 1167.50660831077,\n      left: 379.3392554677745,\n      width: 53,\n      height: 95,\n      rotate: 0,\n      id: 'il6xzm',\n      name: '옷장',\n    },\n  ],\n  scale: 53,\n  focus: '1vufrc',\n  collections: [],\n  collectionDict: {},\n  keywords: [],\n  range: {\n    from: '',\n    to: '',\n  },\n};\n","import { createAction, handleActions } from 'redux-actions';\nimport produce, { finishDraft } from 'immer';\n// import { dataToCollections, compareFactory } from '../helpers/util';\n\nexport type Item = {\n  id: string;\n  name?: string;\n  top?: number;\n  left?: number;\n  width?: number;\n  height?: number;\n  rotate?: number;\n};\n\nconst initialState = {\n  items: [],\n  focus: null,\n  scale: 50,\n  collections: [],\n  collectionDict: {},\n  keywords: [],\n  range: { from: '', to: '' },\n} as {\n  items: Item[];\n  scale: number;\n  focus: string | null;\n  collections: any[];\n  collectionDict: any;\n  keywords: any[];\n  range: any;\n  item?: any;\n};\n\nconst ADD = 'item/ADD';\nconst FOCUS = 'item/FOCUS';\nconst UPDATE = 'item/UPDATE';\nconst REMOVE = 'item/REMOVE';\n\nexport const add = createAction(ADD, (item: any) => item);\nexport const update = createAction(UPDATE, (item: any) => item);\nexport const focus = createAction(FOCUS, (id: string) => ({ id }));\nexport const remove = createAction(REMOVE, (id: string) => ({ id }));\n\nexport default handleActions(\n  {\n    [ADD]: (state, { payload }) =>\n      produce(state, (draft) => {\n        // const { item } = payload;\n        const id = Math.random()\n          .toString(36)\n          .substr(-6);\n        const x = (draft.items = [\n          ...draft.items,\n          {\n            top: ~~(Math.random() * 500),\n            left: ~~(Math.random() * 500),\n            width: 200,\n            height: 100,\n            rotate: 0,\n            ...payload,\n            id,\n          },\n        ]);\n        draft.focus = id;\n      }),\n\n    [FOCUS]: (state, { payload }) =>\n      produce(state, (draft) => {\n        // @ts-ignore\n        const { id } = payload;\n        if (draft.focus === id) {\n          draft.focus = null;\n        } else if (draft.items.find((item: any) => item.id === id)) {\n          draft.focus = id;\n        }\n      }),\n    [UPDATE]: (state, { payload }) =>\n      produce(state, (draft) => {\n        // const { item } = payload;\n        // @ts-ignore\n        const { id } = payload;\n        const index = draft.items.findIndex((item: any) => item.id === id);\n\n        if (index !== -1) {\n          draft.items[index] = {\n            ...draft.items[index],\n            ...payload,\n          };\n        }\n      }),\n    [REMOVE]: (state, { payload }) =>\n      produce(state, (draft) => {\n        // @ts-ignore\n        const { id } = payload;\n        draft.items = draft.items.filter((item: any) => item.id !== id);\n        if (draft.focus === id) {\n          draft.focus = null;\n        }\n        // draft.focus = id;\n      }),\n  },\n  initialState,\n);\n","import { combineReducers } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport app from './app.store';\nimport workspace from './workspace.store';\nimport item from '../components/Item/item.store';\n// import timetable from '../components/TimeTable/timetable.store';\n// import sidebar from '../components/Sidebar/sidebar.store';\n\nconst rootReducer = combineReducers({\n  app: persistReducer({ key: 'app', storage }, app),\n  item: persistReducer({ key: 'item', storage }, item),\n  workspace: persistReducer({ key: 'workspace', storage }, workspace),\n});\n\nconsole.log(rootReducer);\n\nexport default rootReducer;\n","import * as React from 'react';\nimport { useCallback } from 'react';\nimport { get } from 'lodash-es';\nimport { Button } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport cx from 'classnames';\nimport { add } from '../../store/workspace.store';\nimport styles from './Home.module.scss';\n\nexport const uriPattern = '/home';\n\nfunction Home(props: any) {\n  const dispatch = useDispatch();\n  const workspaces = useSelector((state) =>\n    get(state, ['workspace', 'workspaces']),\n  );\n\n  const handleAddClick = useCallback(() => {\n    dispatch(add({}));\n  }, [dispatch]);\n\n  return (\n    <div className={cx('container', styles.root)}>\n      <div className=\"row\">\n        <div className=\"col\">\n          <div style={{ float: 'right' }}>\n            <Button onClick={handleAddClick}>New Page</Button>\n          </div>\n          <h3>Floor Plan</h3>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <hr />\n          <ul>\n            {workspaces.map((workspace: any, i: number) => {\n              return (\n                <li key={i}>\n                  <Link to={`/workspaces/${workspace.id}`}>\n                    {workspace.name || workspace.id}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n","import Home, { uriPattern } from './Home';\n\nexport default Home;\nexport { uriPattern };\n","import { createAction, handleActions } from 'redux-actions';\nimport produce, { finishDraft } from 'immer';\n// import { dataToCollections, compareFactory } from '../helpers/util';\nimport { useImmerReducer } from 'use-immer';\n\nexport type Item = {\n  id: string;\n  name?: string;\n  top?: number;\n  left?: number;\n  width?: number;\n  height?: number;\n  rotate?: number;\n};\n\nconst initialState = {\n  items: [],\n  scale: 50,\n  focus: null,\n  collections: [],\n  collectionDict: {},\n  keywords: [],\n  range: { from: '', to: '' },\n} as {\n  items: Item[];\n  scale: number;\n  focus: string | null;\n  collections: any[];\n  collectionDict: any;\n  keywords: any[];\n  range: any;\n  item?: any;\n};\n\nconst ADD = 'item/ADD';\nconst FOCUS = 'item/FOCUS';\nconst SET_SCALE = 'item/SET_SCALE';\nconst UPDATE = 'item/UPDATE';\nconst REMOVE = 'item/REMOVE';\n// const COPY = 'item/COPY';\n\nexport const add = createAction(ADD, (item: any) => item);\nexport const update = createAction(UPDATE, (item: any) => item);\nexport const focus = createAction(FOCUS, (id: string) => ({ id }));\nexport const remove = createAction(REMOVE, (id: string) => ({ id }));\n\nexport const setScale = createAction(SET_SCALE, (scale: string) => ({ scale }));\n\nconst reducer = (draft: any, action: any) => {\n  const { type, payload } = action;\n  switch (type) {\n    case ADD: {\n      const id = Math.random()\n        .toString(36)\n        .substr(-6);\n      draft.items = [\n        ...draft.items,\n        {\n          top: ~~(Math.random() * 500),\n          left: ~~(Math.random() * 500),\n          width: 100,\n          height: 100,\n          rotate: 0,\n          ...payload,\n          id,\n        },\n      ];\n      draft.focus = id;\n      return;\n    }\n    case FOCUS: {\n      const { id } = payload;\n      if (draft.focus === id) {\n        draft.focus = null;\n      } else if (draft.items.find((item: any) => item.id === id)) {\n        draft.focus = id;\n      }\n      return;\n    }\n    case UPDATE: {\n      const { id } = payload;\n      const index = draft.items.findIndex((item: any) => item.id === id);\n\n      if (index !== -1) {\n        draft.items[index] = {\n          ...draft.items[index],\n          ...payload,\n        };\n      }\n      return;\n    }\n    case REMOVE: {\n      const { id } = payload;\n      draft.items = draft.items.filter((item: any) => item.id !== id);\n      if (draft.focus === id) {\n        draft.focus = null;\n      }\n      return;\n    }\n    case SET_SCALE: {\n      const { scale } = payload;\n      draft.scale = scale;\n      return;\n    }\n  }\n};\n\nfunction useAAA(data?: any) {\n  // console.log(data);\n  return useImmerReducer(reducer, data || initialState);\n}\n\nexport default useAAA;\n","import * as React from 'react';\nimport {\n  Fragment,\n  useCallback,\n  useMemo,\n  useEffect,\n  useState,\n  useRef,\n} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { get } from 'lodash-es';\nimport { Button } from 'antd';\nimport cx from 'classnames';\nimport Moveable from 'react-moveable';\nimport { focus, update, remove } from '../FloorPlan/floorplan.reducer';\nimport styles from './Item.module.scss';\n\nfunction Item({\n  name,\n  id,\n  scale,\n  top,\n  left,\n  width,\n  height,\n  rotate,\n  state,\n  dispatch,\n}: any) {\n  // const dispatch = useDispatch();\n  // const focusId = useSelector((state: any) => get(state, ['item', 'focus']));\n  const focusId = useMemo(() => get(state, ['focus']), [state]);\n  // const focusId = get(state, ['item', 'focus']);\n  // , [state]);\n  const cool = useRef<any>();\n  const handleFocusClick = useCallback(() => {\n    if (!cool.current) {\n      dispatch(focus(id));\n    }\n  }, [dispatch, id]);\n  // const handleRemoveClick = useCallback(() => {\n  //   dispatch(remove(id));\n  // }, [dispatch, id]);\n\n  const itemStyle = useMemo(() => {\n    return {\n      // top,\n      // left,\n      // width,\n      // height,\n      top: top * scale,\n      left: left * scale,\n      width: width * scale,\n      height: height * scale,\n      fontSize: `${2.5 * scale}rem`,\n\n      transform: `rotate(${rotate}deg)`,\n    };\n  }, [top, left, width, height, rotate, scale]);\n\n  const ref = useRef<any>();\n\n  const [aa, setAa] = useState();\n\n  const dats = useRef<any>();\n\n  const handleDragStart = useCallback((aaa: any) => {\n    // console.log(aaa);\n    const { clientX, clientY } = aaa;\n\n    dats.current = {\n      clientX,\n      clientY,\n    };\n  }, []);\n  const handleDragEnd = useCallback(\n    (aaa: any) => {\n      console.log(aaa);\n      console.log(dats.current);\n      const { clientX, clientY } = aaa;\n      const deltaX = (clientX - dats.current.clientX) / scale;\n\n      const deltaY = (clientY - dats.current.clientY) / scale;\n\n      cool.current = true;\n      setTimeout(() => {\n        cool.current = false;\n\n        dispatch(\n          update({\n            id,\n            top: top + deltaY,\n            left: left + deltaX,\n          }),\n        );\n      }, 0);\n    },\n    [id, top, left, scale],\n  );\n\n  const handleRotateStart = useCallback((aaa: any) => {\n    // console.log(aaa);\n    const { clientX, clientY } = aaa;\n\n    dats.current = {\n      clientX,\n      clientY,\n    };\n  }, []);\n  const handleRotateEnd = useCallback(\n    (aaa: any) => {\n      // console.log(aaa);\n      const { target } = aaa;\n      // console.log(target.style.transform);\n\n      const matched = target.style.transform.match(/rotate\\(([\\-0-9]+)deg\\)/);\n      if (matched && matched[1]) {\n        // console.log(rotate, matched[1], ~~matched[1]);\n        setTimeout(() => {\n          dispatch(\n            update({\n              id,\n              rotate: rotate + ~~matched[1],\n              // left: left + deltaX,\n            }),\n          );\n        }, 0);\n      }\n\n      // console.log(ang);\n      // dats.current = {\n      //   clientX,\n      //   clientY,\n      // };\n    },\n    [id, rotate],\n  );\n  //   console.dir(test.target.style.transform);\n\n  const key = `${id}_${top}_${left}_${width}_${height}_${rotate}_${scale}`;\n  useEffect(() => {\n    setAa(ref.current);\n  }, [key]);\n\n  return (\n    <Fragment key={key}>\n      <div\n        ref={ref}\n        className={cx(styles.root, focusId === id && styles.focus)}\n        onClick={handleFocusClick}\n        style={itemStyle}\n      >\n        <span> {name || id}</span>\n        {/* <span>{focusId}</span> */}\n        {/* <pre>{JSON.stringify(state, null, 2)}</pre> */}\n        {/* <Button onClick={handleRemoveClick}>delete</Button> */}\n      </div>\n      {aa && focusId === id && (\n        <Moveable\n          target={aa}\n          container={null}\n          origin={false}\n          draggable\n          onDrag={({\n            target,\n            beforeDelta,\n            beforeDist,\n            left,\n            top,\n            right,\n            bottom,\n            delta,\n            dist,\n            transform,\n            clientX,\n            clientY,\n          }: any) => {\n            // console.log('onDrag left, top', left, top);\n            // target!.style.left = `${left}px`;\n            // target!.style.top = `${top}px`;\n            // console.log('onDrag translate', dist);\n            target!.style.transform = transform;\n          }}\n          onDragStart={handleDragStart}\n          onDragEnd={handleDragEnd}\n          rotatable={true}\n          throttleRotate={5}\n          onRotateStart={handleRotateStart}\n          onRotate={({\n            target,\n            delta,\n            dist,\n            transform,\n            clientX,\n            clientY,\n          }: any) => {\n            console.log('onRotate', dist);\n            target!.style.transform = transform;\n          }}\n          onRotateEnd={handleRotateEnd}\n          // onRotateEnd={(test: any) => {\n          //   console.log(Object.keys(test.datas));\n          //   for (const key in test.datas) {\n          //     console.log(key, test.datas[key]);\n          //   }\n          //   console.dir(test.target.style.transform);\n          //   console.log('onRotateEnd', test);\n          // }}\n        />\n      )}\n    </Fragment>\n  );\n}\n\nexport default Item;\n","import Item from './Item';\n\nexport default Item;\n","import * as React from 'react';\nimport { useCallback, useMemo } from 'react';\n// import { useSelector, useDispatch } from 'react-redux';\nimport { Drawer, Input, Button } from 'antd';\nimport { get } from 'lodash-es';\n// import { add, update, remove } from '../Item/item.store';\nimport useReducer, {\n  add,\n  update,\n  remove,\n} from '../FloorPlan/floorplan.reducer';\nimport styles from './Sidebar.module.scss';\n\nfunction Sidebar({ state, dispatch }: any) {\n  // const [state, dispatch] = useReducer();\n  const focused = useMemo(() => {\n    const items = get(state, ['items'], []);\n\n    const focus = get(state, ['focus']);\n\n    return items.find((item: any) => {\n      return item.id === focus;\n    });\n  }, [state]);\n\n  // const dispatch = useDispatch();\n\n  // const items = useSelector((state: any) => {\n  //   return state && state.item && state.item.items;\n  // });\n\n  const handleClick = useCallback(() => {\n    dispatch(add({}));\n  }, [dispatch]);\n\n  const handleRemoveClick = useCallback(() => {\n    // handleRemoveClick\n    dispatch(remove(focused.id));\n  }, [dispatch, focused]);\n\n  const handleCopyClick = useCallback(() => {\n    // handleRemoveClick\n    dispatch(\n      add({\n        ...focused,\n        top: focused.top + 20,\n        left: focused.left + 20,\n      }),\n    );\n  }, [dispatch, focused]);\n\n  const handleValueChange = useCallback(\n    (event) => {\n      // console.log(event.target.name);\n      // const value\n      const name = event.target.name;\n      const value = name === 'name' ? event.target.value : ~~event.target.value;\n\n      dispatch(\n        update({\n          id: focused.id,\n          [name]: value,\n        }),\n      );\n    },\n    [focused],\n  );\n  return (\n    <Drawer\n      // title=\"Basic Drawer\"\n      placement=\"right\"\n      closable={false}\n      // onClose={this.onClose}\n      visible={true}\n      mask={false}\n    >\n      {/* <p>Some contents...</p>\n      <p>Some contents...</p>\n      <p>Some contents...</p> */}\n      <Button onClick={handleClick}>add</Button>\n      <hr />\n      {/* <pre>{JSON.stringify(state, null, 2)}</pre> */}\n      {focused && (\n        <div key={focused.id}>\n          <Input\n            // prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n            name=\"name\"\n            defaultValue={focused.name}\n            placeholder=\"name\"\n            onChange={handleValueChange}\n          />\n          <Input\n            // prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n            name=\"width\"\n            type=\"number\"\n            defaultValue={focused.width}\n            placeholder=\"width\"\n            onChange={handleValueChange}\n          />\n          <Input\n            // prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n            name=\"height\"\n            type=\"number\"\n            defaultValue={focused.height}\n            placeholder=\"height\"\n            onChange={handleValueChange}\n          />\n          <hr />\n          <Button onClick={handleRemoveClick}>삭제</Button>\n          <Button onClick={handleCopyClick}>복사</Button>\n          {/* <pre>{JSON.stringify(focused, null, 2)}</pre> */}\n        </div>\n      )}\n    </Drawer>\n  );\n}\n\nexport default Sidebar;\n","import Sidebar from './Sidebar';\n\nexport default Sidebar;\n","import * as React from 'react';\nimport { useCallback, useEffect } from 'react';\nimport { Button, Slider } from 'antd';\nimport useFloorPlanReducer, { add, setScale } from './floorplan.reducer';\nimport Item from '../Item';\nimport Sidebar from '../Sidebar';\nimport styles from './FloorPlan.module.scss';\nimport bg from './blueprint.png';\n\nfunction FloorPlan(props: any) {\n  const [state, dispatch] = useFloorPlanReducer(props.data);\n  // useImmerReducer();\n\n  const handleClick = useCallback(() => {\n    dispatch(add({}));\n  }, [dispatch]);\n\n  // console.dir(state);\n\n  const { items } = state;\n\n  useEffect(() => {\n    if (typeof props.onChange === 'function') {\n      props.onChange(state);\n    }\n  }, [state]);\n\n  const handleSliderChange = useCallback(\n    (val) => {\n      // dispatch(add({}));\n      // console.log(val);\n      dispatch(setScale(val));\n    },\n    [dispatch],\n  );\n\n  return (\n    <div>\n      <div style={{ width: 200 }}>\n        <Slider\n          min={10}\n          max={100}\n          value={state.scale}\n          onChange={handleSliderChange}\n        />\n      </div>\n      {/* <pre>{JSON.stringify(state, null, 2)}</pre> */}\n      <div className={styles.root}>\n        {/* <h1>FloorPlan</h1> */}\n        <div>\n          <img\n            src={bg}\n            style={{\n              transform: `scale(${state.scale / 100})`,\n              transformOrigin: '0 0',\n            }}\n          />\n          {/* <Button onClick={handleClick}>add</Button> */}\n          {items.map((item: any, i: number) => {\n            return (\n              <Item\n                key={i}\n                {...item}\n                state={{ ...state }}\n                scale={state.scale / 100}\n                dispatch={dispatch}\n              />\n            );\n          })}\n        </div>\n        {/* <pre>{JSON.stringify(state, null, 2)}</pre> */}\n        <Sidebar state={{ ...state }} dispatch={dispatch} />\n      </div>\n      <textarea>{JSON.stringify(state, null, 2)}</textarea>\n    </div>\n  );\n}\n\nexport default FloorPlan;\n","import FloorPlan from './FloorPlan';\n\nexport default FloorPlan;\n","import * as React from 'react';\nimport { useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport cx from 'classnames';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Input, Button } from 'antd';\nimport { get } from 'lodash-es';\nimport { add, update, remove } from '../../store/workspace.store';\nimport FloorPlan from '../../components/FloorPlan';\n\nimport styles from './Workspace.module.scss';\n\nexport const uriPattern = '/workspaces/:id';\n\nfunction Workspace(props: any) {\n  const { match } = props;\n  const id = get(match, ['params', 'id']);\n  const workspace = useSelector((state) =>\n    get(state, ['workspace', 'workspaces'], []).find(\n      (workspace: any) => workspace.id === id,\n    ),\n  );\n  const dispatch = useDispatch();\n\n  const handleCopyClick = useCallback(() => {\n    // console.log(data);\n    dispatch(\n      add({\n        ...JSON.parse(JSON.stringify(workspace)),\n        id: undefined,\n        name: `${workspace.name} (복사)`,\n        // // id,\n        // data,\n      }),\n    );\n  }, [dispatch, workspace]);\n\n  const handleRemoveClick = useCallback(() => {\n    // console.log(data);\n    dispatch(remove(id));\n  }, [dispatch, id]);\n\n  const handleDataChange = useCallback(\n    (data) => {\n      // console.log(data);\n      dispatch(\n        update({\n          id,\n          data,\n        }),\n      );\n    },\n    [dispatch, id],\n  );\n\n  const handleNameChange = useCallback(\n    (event) => {\n      // console.log(data);\n      dispatch(\n        update({\n          id,\n          name: event.target.value,\n        }),\n      );\n    },\n    [dispatch, id],\n  );\n  return (\n    <div className={cx('container-fluid', styles.root)}>\n      <div className=\"row\">\n        <div className=\"col\">\n          <Link to=\"/home\">Home</Link>\n          {workspace && (\n            <>\n              <Button onClick={handleCopyClick}>복사</Button>\n              <Button onClick={handleRemoveClick}>삭제</Button>\n\n              <Input\n                type=\"text\"\n                defaultValue={workspace.name}\n                onChange={handleNameChange}\n              />\n            </>\n          )}\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <hr />\n          {workspace && (\n            <FloorPlan data={workspace.data} onChange={handleDataChange} />\n          )}\n        </div>\n      </div>\n    </div>\n\n    // <div className={styles.root}>\n    //   <Link to=\"/home\">home</Link>\n    //   <hr />\n\n    //   {workspace ? (\n    //     <>\n    //       <h1>{id}</h1>\n    //       <pre>{JSON.stringify(workspace, null, 2)}</pre>\n    //     </>\n    //   ) : (\n    //     <Link to=\"/home\">page not found.... to home.</Link>\n    //   )}\n    // </div>\n  );\n}\n\nexport default Workspace;\n","import Workspace, { uriPattern } from './Workspace';\n\nexport default Workspace;\nexport { uriPattern };\n","import * as React from 'react';\nimport Movable from '../Movable';\nimport Blueprint from '../Blueprint';\nimport styles from './Layout.module.scss';\n\nfunction Layout(props: any) {\n  return (\n    <div className={styles.root}>\n      {/* <h1>Layout</h1> */}\n      {/* <Blueprint /> */}\n      {props.children}\n    </div>\n  );\n}\n\nexport default Layout;\n","import Layout from './Layout';\n\nexport default Layout;\n","import * as React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport Home, { uriPattern as home_path } from './home';\nimport Workspace, { uriPattern as workspace_path } from './workspace';\nimport Layout from '../components/Layout';\n\nconst pages = [\n  {\n    path: home_path,\n    exact: true,\n    component: Home,\n  },\n  {\n    path: workspace_path,\n    component: Workspace,\n  },\n];\n\nconst REDIRECT_URI = { DEFAULT: home_path };\n\nconst routes = [\n  ...pages.map(({ path, exact, component: Component }: any, i) => {\n    const Page = (props: any) => <Component {...props} />;\n    return (\n      <Route key={`route-${i}`} path={path} exact={!!exact} render={Page} />\n    );\n  }),\n  <Redirect key=\"redirect-to-default\" to={REDIRECT_URI.DEFAULT} />,\n];\n\nexport default () => (\n  <Layout>\n    <Switch>{routes}</Switch>\n  </Layout>\n);\n","import { createStore, compose } from 'redux';\nimport { persistStore } from 'redux-persist';\nimport rootReducer from './reducer';\n\nexport default function configureStore(initialState?: any) {\n  let composeEnhancers: any;\n  try {\n    // @ts-ignore\n    composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  } catch (err) {\n    composeEnhancers = compose;\n  }\n  const enhancer = composeEnhancers();\n  const store = createStore(rootReducer, initialState, enhancer);\n  const persistor = persistStore(store);\n  return { store, persistor };\n}\n","import * as React from 'react';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport configure from './store/configure';\nimport Routes from './pages';\n\nconst { store, persistor } = configure();\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor} loading={null}>\n        <Router>\n          <Routes />\n        </Router>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.scss';\n// import './styles/antd.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}